"use strict";(self.webpackChunkgoit_react_lessons_new=self.webpackChunkgoit_react_lessons_new||[]).push([[607],{8607:function(t,e,n){n.r(e),n.d(e,{default:function(){return C}});var r,i=n(3433),c=n(1413),o=n(4420),s="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",a=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,e="",n=crypto.getRandomValues(new Uint8Array(t));t--;)e+=s[63&n[t]];return e},d="Product_product__hQeO1",l="Product_productImg__+a4qi",u="Product_discountBage__jCcC4",h="Product_productAddToCardBtn__78QIo",p=n(27),x=n(184),m=function(t){var e=t.title,n=t.price,r=t.imageURL,i=t.discount,c=t.handleDeleteProduct,s=t.id,a=(0,o.I0)(),m={backgroundColor:i?"#00b300":"#d9d9d9"};return(0,x.jsxs)("div",{className:d,style:m,children:[(0,x.jsx)("img",{className:l,src:r,alt:"Tacos With Lime",width:"640"}),(0,x.jsx)("h2",{children:e}),i&&(0,x.jsxs)("h3",{className:u,children:["Discount: ",i,"$"]}),(0,x.jsxs)("p",{children:[n,"$"]}),(0,x.jsx)("button",{className:h,type:"button",children:"Add to cart"}),(0,x.jsx)("button",{onClick:function(){return a((0,p.h7)({title:e,price:n,discount:i}))},className:h,type:"button",children:"See the details"}),(0,x.jsx)("button",{onClick:function(){return c(s)},className:h,type:"button",children:"\xd7"})]})},f="Section_section__Z2PLw",j=function(t){var e=t.children,n=t.title,r=void 0!==n&&n;return(0,x.jsxs)("section",{className:f,children:[r&&(0,x.jsx)("h2",{children:r}),e]})},b=n(9439),v=n(2791),g={form:"ProductForm_form__g-Bdi",labelText:"ProductForm_labelText__TbfmW"},_=function(t){var e=t.handleAddProduct,n=(0,v.useState)(""),r=(0,b.Z)(n,2),i=r[0],c=r[1],o=(0,v.useState)(""),s=(0,b.Z)(o,2),a=s[0],d=s[1],l=(0,v.useState)(!1),u=(0,b.Z)(l,2),h=u[0],p=u[1],m=(0,v.useState)(""),f=(0,b.Z)(m,2),j=f[0],_=f[1],w=function(t){var e="checkbox"===t.target.type?t.target.checked:t.target.value;switch(t.target.name){case"title":return void c(e);case"price":return void d(e);case"hasDiscount":return void p(e);case"discount":return void _(e);default:return}};return(0,x.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={title:i,price:Number.parseFloat(a),discount:h?Number.parseFloat(j):null};e(n),c(""),d(""),p(!1),_("")},className:g.form,children:["Spagetti"===i&&(0,x.jsx)("h2",{children:"Congrats! You won a promocode - 777"}),(0,x.jsxs)("label",{className:g.formLabel,children:[(0,x.jsx)("p",{className:g.labelText,children:"Title:"}),(0,x.jsx)("input",{type:"text",name:"title",onChange:w,value:i})]}),(0,x.jsxs)("label",{className:g.formLabel,children:[(0,x.jsx)("p",{className:g.labelText,children:"Price:"}),(0,x.jsx)("input",{type:"text",name:"price",onChange:w,value:a})]}),(0,x.jsxs)("label",{className:g.formLabel,children:[(0,x.jsx)("input",{type:"checkbox",name:"hasDiscount",onChange:w,checked:h}),"Has discount?"]}),h&&(0,x.jsxs)("label",{className:g.formLabel,children:[(0,x.jsx)("p",{className:g.labelText,children:"Discount:"}),(0,x.jsx)("input",{type:"text",name:"discount",onChange:w,value:j})]}),(0,x.jsx)("button",{type:"submit",children:"Add product"})]})},w=n(168),N=n(5867).ZP.div(r||(r=(0,w.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n\n  .modal {\n    padding: 20px;\n    max-width: 450px;\n    width: 100%;\n    min-height: 450px;\n    background-color: white;\n    border-radius: 10px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    &:hover {\n      cursor: auto;\n    }\n  }\n\n  .closeBtn {\n    position: absolute;\n    top: 15px;\n    right: 15px;\n  }\n"]))),y=function(){var t=(0,o.v9)((function(t){return t.modal.modalData})),e=(0,o.I0)(),n=(0,v.useState)(1),r=(0,b.Z)(n,2),i=r[0],c=r[1];(0,v.useEffect)((function(){var t=function(t){"Escape"===t.code&&e((0,p.Mr)())};return window.addEventListener("keydown",t),document.body.style.overflow="hidden",function(){window.addEventListener("keydown",t),document.body.style.overflow="auto"}}),[e]);return(0,x.jsx)(N,{onClick:function(t){t.target===t.currentTarget&&e((0,p.Mr)())},children:(0,x.jsxs)("div",{className:"modal",children:[(0,x.jsx)("button",{onClick:function(){return e((0,p.Mr)())},className:"closeBtn",children:"\xd7"}),(0,x.jsx)("h2",{children:"Product details"}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("h3",{children:["Title: ",t.title]}),(0,x.jsxs)("p",{children:["Price: ",t.price,"$"]}),(0,x.jsxs)("p",{children:["Discount: ",t.discount,"$"]})]}),(0,x.jsx)("br",{}),(0,x.jsxs)("button",{onClick:function(){return c((function(t){return t+1}))},children:["Product count: ",i]})]})})},k=n(7860),P="App_productList__ZcthI",C=function(){var t=(0,o.I0)(),e=(0,o.v9)((function(t){return t.modal.isOpenModal})),n=(0,o.v9)((function(t){return t.productsStore.products})),r=function(e){t((0,k.Ir)(e))},s=(0,i.Z)(n).sort((function(t,e){return e.discount-t.discount}));return(0,x.jsxs)("div",{children:[(0,x.jsx)(j,{children:(0,x.jsx)("h1",{children:"LOGO"})}),(0,x.jsx)(j,{title:"Add product form",children:(0,x.jsx)(_,{handleAddProduct:function(e){if(n.some((function(t){return t.title===e.title})))alert("Oops, product with title '".concat(e.title,"' already exist"));else{var r=(0,c.Z)((0,c.Z)({},e),{},{id:a()});t((0,k.gK)(r))}}})}),(0,x.jsx)(j,{title:"Product list",children:(0,x.jsx)("div",{className:P,children:s.map((function(t){return(0,x.jsx)(m,{id:t.id,title:t.title,price:t.price,discount:t.discount,imageURL:t.imageURL,handleDeleteProduct:r},t.id)}))})}),e&&(0,x.jsx)(y,{})]})}}}]);
//# sourceMappingURL=607.3fd94c7e.chunk.js.map