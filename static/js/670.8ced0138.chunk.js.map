{"version":3,"file":"static/js/670.8ced0138.chunk.js","mappings":"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","sources":["webpack://goit-react-lessons-new/./src/pages/PostsPage.module.css?5b61","pages/HomePage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"PostsPage_container__5TzYL\",\"postList\":\"PostsPage_postList__MXe0o\",\"postListItem\":\"PostsPage_postListItem__TaM8e\",\"itemTitle\":\"PostsPage_itemTitle__uTq0t\",\"itemBody\":\"PostsPage_itemBody__EmXCp\",\"errorBage\":\"PostsPage_errorBage__N1uHh\",\"listWrapper\":\"PostsPage_listWrapper__SCP8T\",\"commentsList\":\"PostsPage_commentsList__zUQs1\",\"commentsListItem\":\"PostsPage_commentsListItem__3NLa3\",\"commentTitle\":\"PostsPage_commentTitle__kPdAe\",\"commentEmail\":\"PostsPage_commentEmail__BYRAR\",\"commentBody\":\"PostsPage_commentBody__4D3jd\"};","import axios from 'axios';\nimport { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Loader from 'components/Loader/Loader';\nimport css from './PostsPage.module.css';\n\nexport class HomePage extends Component {\n  state = {\n    posts: null,\n    comments: null,\n    selectedPostId: null,\n    isLoading: false,\n    error: null,\n  };\n\n  fetchPosts = async () => {\n    try {\n      this.setState({ isLoading: true });\n      const { data } = await axios.get(\n        'https://jsonplaceholder.typicode.com/posts'\n      );\n      this.setState({ posts: data });\n    } catch (error) {\n      this.setState({ error: error.message });\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  };\n\n  fetchPostsComments = async () => {\n    try {\n      this.setState({ isLoading: true });\n      const { data } = await axios.get(\n        `https://jsonplaceholder.typicode.com/comments?postId=${this.state.selectedPostId}`\n      );\n      this.setState({ comments: data });\n    } catch (error) {\n      this.setState({ error: error.message });\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  };\n\n  onSelectPostId = postId => {\n    this.setState({ selectedPostId: postId });\n  };\n\n  componentDidMount() {\n    this.fetchPosts();\n  }\n\n  componentDidUpdate(_, prevState) {\n    if (prevState.selectedPostId !== this.state.selectedPostId) {\n      this.fetchPostsComments();\n    }\n  }\n\n  render() {\n    return (\n      <div className={css.container}>\n        <h1>HTTP-request</h1>\n        {this.state.error !== null && (\n          <p className={css.errorBage}>\n            Oops, some error occured... Error message: {this.state.error}\n          </p>\n        )}\n        {this.state.isLoading && <Loader />}\n        <div className={css.listWrapper}>\n          <ul className={css.postList}>\n            {this.state.posts !== null &&\n              this.state.posts.map(post => (\n                <li\n                  key={post.id}\n                  // onClick={() => this.onSelectPostId(post.id)}\n                  className={css.postListItem}\n                >\n                  <Link to={`/posts/${post.id}`}>\n                    <h2 className={css.itemTitle}>{post.title}</h2>\n                    <p className={css.itemBody}>\n                      <b>Body: </b>\n                      {post.body}\n                    </p>\n                  </Link>\n                </li>\n              ))}\n          </ul>\n\n          <ul className={css.commentsList}>\n            {this.state.selectedPostId && (\n              <li className={css.commentsListItem}>\n                Selected post id: {this.state.selectedPostId}\n              </li>\n            )}\n            {!this.state.isLoading &&\n              this.state.comments !== null &&\n              this.state.comments.map(comment => (\n                <li key={comment.id} className={css.commentsListItem}>\n                  <h2 className={css.commentTitle}>{comment.name}</h2>\n                  <h3 className={css.commentEmail}>Email: {comment.email}</h3>\n                  <p className={css.commentBody}>\n                    <b>Body: </b>\n                    {comment.body}\n                  </p>\n                </li>\n              ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default HomePage;\n"],"names":["HomePage","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","posts","comments","selectedPostId","isLoading","error","fetchPosts","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$axios$get","data","_context","prev","next","setState","axios","sent","t0","message","finish","stop","fetchPostsComments","_callee2","_yield$axios$get2","_context2","onSelectPostId","postId","_createClass","key","value","this","_","prevState","_jsxs","className","css","children","_jsx","Loader","map","post","Link","to","id","title","body","comment","name","email","Component"],"sourceRoot":""}