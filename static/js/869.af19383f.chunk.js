"use strict";(self.webpackChunkgoit_react_lessons_new=self.webpackChunkgoit_react_lessons_new||[]).push([[869],{869:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var c,i=n(433),o=n(683),s=n(439),r=n(791),a="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",l=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e));e--;)t+=a[63&n[e]];return t},d="Product_product__hQeO1",u="Product_productImg__+a4qi",h="Product_discountBage__jCcC4",p="Product_productAddToCardBtn__78QIo",f=n(153),m=n(184),x=function(e){var t=e.title,n=e.price,c=e.imageURL,i=e.discount,o=e.handleDeleteProduct,s=e.id,a=(0,r.useContext)(f.t),l=a.dayOfTheMonth,x=a.openModal;console.log("dayOfTheMonth",l);var g={backgroundColor:i?"#00b300":"#d9d9d9"};return(0,m.jsxs)("div",{className:d,style:g,children:[(0,m.jsxs)("h4",{children:["Day of the month: ",l]}),(0,m.jsx)("img",{className:u,src:c,alt:"Tacos With Lime",width:"640"}),(0,m.jsx)("h2",{children:t}),i&&(0,m.jsxs)("h3",{className:h,children:["Discount: ",i,"$"]}),(0,m.jsxs)("p",{children:[n,"$"]}),(0,m.jsx)("button",{className:p,type:"button",children:"Add to cart"}),(0,m.jsx)("button",{onClick:function(){return x({title:t,price:n,discount:i})},className:p,type:"button",children:"See the details"}),(0,m.jsx)("button",{onClick:function(){return o(s)},className:p,type:"button",children:"\xd7"})]})},g=[{id:"1",title:"Tacos with cheese",price:10.9,discount:null,imageURL:"https://www.oliveandmango.com/images/uploads/2022_02_21_cheesy_baked_tacos_1.jpg"},{id:"2",title:"Tacos with lime",price:12.6,discount:1.5,imageURL:"https://michielskitchen.com/wp-content/uploads/2020/08/lime-chicken-and-coriander-tacos-recipe-michiels-kitchen-01-1.jpg"},{id:"3",title:"Tacos with pineapple",price:13.4,discount:2.5,imageURL:"https://www.everydayeileen.com/wp-content/uploads/2016/10/easy-chicken-tacos-with-pineapple-mango-salsa-cover.jpg"},{id:"4",title:"Tacos M",price:15,discount:null,imageURL:"https://static-pepper.dealabs.com/threads/raw/Bt8ID/2674217_1/re/768x768/qt/60/2674217_1.jpg"},{id:"5",title:"Tacos L",price:17,discount:4,imageURL:"https://www.chowhound.com/img/gallery/french-tacos-are-the-street-food-that-satisfies-any-fast-food-craving/l-intro-1704475608.jpg"}],j="Section_section__Z2PLw",b=function(e){var t=e.children,n=e.title,c=void 0!==n&&n;return(0,m.jsxs)("section",{className:j,children:[c&&(0,m.jsx)("h2",{children:c}),t]})},v={form:"ProductForm_form__g-Bdi",labelText:"ProductForm_labelText__TbfmW"},w=function(e){var t=e.handleAddProduct,n=(0,r.useState)(""),c=(0,s.Z)(n,2),i=c[0],o=c[1],a=(0,r.useState)(""),l=(0,s.Z)(a,2),d=l[0],u=l[1],h=(0,r.useState)(!1),p=(0,s.Z)(h,2),f=p[0],x=p[1],g=(0,r.useState)(""),j=(0,s.Z)(g,2),b=j[0],w=j[1],_=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;switch(e.target.name){case"title":return void o(t);case"price":return void u(t);case"hasDiscount":return void x(t);case"discount":return void w(t);default:return}};return(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={title:i,price:Number.parseFloat(d),discount:f?Number.parseFloat(b):null};t(n),o(""),u(""),x(!1),w("")},className:v.form,children:["Spagetti"===i&&(0,m.jsx)("h2",{children:"Congrats! You won a promocode - 777"}),(0,m.jsxs)("label",{className:v.formLabel,children:[(0,m.jsx)("p",{className:v.labelText,children:"Title:"}),(0,m.jsx)("input",{type:"text",name:"title",onChange:_,value:i})]}),(0,m.jsxs)("label",{className:v.formLabel,children:[(0,m.jsx)("p",{className:v.labelText,children:"Price:"}),(0,m.jsx)("input",{type:"text",name:"price",onChange:_,value:d})]}),(0,m.jsxs)("label",{className:v.formLabel,children:[(0,m.jsx)("input",{type:"checkbox",name:"hasDiscount",onChange:_,checked:f}),"Has discount?"]}),f&&(0,m.jsxs)("label",{className:v.formLabel,children:[(0,m.jsx)("p",{className:v.labelText,children:"Discount:"}),(0,m.jsx)("input",{type:"text",name:"discount",onChange:_,value:b})]}),(0,m.jsx)("button",{type:"submit",children:"Add product"})]})},_=n(168),y=n(867).ZP.div(c||(c=(0,_.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n\n  .modal {\n    padding: 20px;\n    max-width: 450px;\n    width: 100%;\n    min-height: 450px;\n    background-color: white;\n    border-radius: 10px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    &:hover {\n      cursor: auto;\n    }\n  }\n\n  .closeBtn {\n    position: absolute;\n    top: 15px;\n    right: 15px;\n  }\n"]))),k=function(){var e=(0,r.useContext)(f.t),t=e.modalData,n=e.closeModal,c=(0,r.useState)(1),i=(0,s.Z)(c,2),o=i[0],a=i[1],l=(0,r.useRef)(),d=(0,r.useRef)(!0);console.log("inputRef:",l.current),(0,r.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),document.body.style.overflow="hidden",function(){window.addEventListener("keydown",e),document.body.style.overflow="auto"}}),[n]);(0,r.useEffect)((function(){l.current&&l.current.focus()}));return(0,r.useEffect)((function(){return!1===d.current&&console.log("counter changed",o),function(){d.current=!1}}),[o]),(0,m.jsx)(y,{onClick:function(e){e.target===e.currentTarget&&n()},children:(0,m.jsxs)("div",{className:"modal",children:[(0,m.jsx)("button",{onClick:n,className:"closeBtn",children:"\xd7"}),(0,m.jsx)("h2",{children:"Product details"}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("h3",{children:["Title: ",t.title]}),(0,m.jsxs)("p",{children:["Price: ",t.price,"$"]}),(0,m.jsxs)("p",{children:["Discount: ",t.discount,"$"]})]}),(0,m.jsx)("input",{ref:l,type:"text"}),(0,m.jsx)("button",{onClick:function(){console.log("inputRef:",l.current),l.current.focus()},children:"Select input"}),(0,m.jsx)("br",{}),(0,m.jsxs)("button",{onClick:function(){return a((function(e){return e+1}))},children:["Product count: ",o]})]})})},N="App_productList__ZcthI",C=function(){var e=(0,r.useState)((function(){var e,t=localStorage.getItem("product");return null!==(e=JSON.parse(t))&&void 0!==e?e:g})),t=(0,s.Z)(e,2),n=t[0],c=t[1],a=(0,r.useContext)(f.t).isOpenModal;(0,r.useEffect)((function(){var e=JSON.stringify(n);localStorage.setItem("products",e)}),[n]);var d=function(e){c(n.filter((function(t){return t.id!==e})))},u=(0,i.Z)(n).sort((function(e,t){return t.discount-e.discount}));return(0,m.jsxs)("div",{children:[(0,m.jsx)(b,{children:(0,m.jsx)("h1",{children:"LOGO"})}),(0,m.jsx)(b,{title:"Add product form",children:(0,m.jsx)(w,{handleAddProduct:function(e){if(n.some((function(t){return t.title===e.title})))alert("Oops, product with title '".concat(e.title,"' already exist"));else{var t=(0,o.Z)((0,o.Z)({},e),{},{id:l()});c([].concat((0,i.Z)(n),[t]))}}})}),(0,m.jsx)(b,{title:"Product list",children:(0,m.jsx)("div",{className:N,children:u.map((function(e){return(0,m.jsx)(x,{id:e.id,title:e.title,price:e.price,discount:e.discount,imageURL:e.imageURL,handleDeleteProduct:d},e.id)}))})}),a&&(0,m.jsx)(k,{})]})}}}]);
//# sourceMappingURL=869.af19383f.chunk.js.map